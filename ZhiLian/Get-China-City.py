#encoding: utf-8
import urllib.request
import re

response = urllib.request.urlopen('https://www.zhaopin.com/')#urlopen()完成网页get请求的抓取
text = response.read().decode('utf-8')#抓取整个网页"""
citys = re.findall('<li><strong><a.*?>(.*?)<.*?li>',text,re.S)
print(citys)#所有的中国城市
print(len(citys))
codes_city = {'601': '鞍山', '825': '安顺', '723': '安阳', '862': '安康', '671': '安庆', '819': '阿坝', '897': '阿克苏', '10176': '阿拉尔', '598': '阿拉善盟', '903': '阿勒泰', '852': '阿里', '10081': '安达', '562': '澳门', '918': '阿尔及利亚', '481': '阿根廷', '526': '阿联酋', '493': '埃及', '502': '爱尔兰', '913': '安哥拉', '483': '奥地利', '482': '澳大利亚', '530': '北京', '588': '包头', '856': '宝鸡', '570': '保定', '717': '滨州', '678': '亳州', '666': '蚌埠', '789': '北海', '867': '白银', '620': '白城', '618': '白山', '828': '毕节', '817': '巴中', '597': '巴彦淖尔', '896': '巴音郭楞', '10194': '白沙', '794': '百色', '834': '保山', '10193': '保亭', '603': '本溪', '895': '博尔塔拉', '932': '北屯区', '513': '巴基斯坦', '486': '巴西', '484': '白俄罗斯', '487': '保加利亚', '485': '比利时', '499': '冰岛', '514': '波兰', '551': '重庆', '801': '成都', '613': '长春', '749': '长沙', '573': '沧州', '650': '常熟', '755': '常德', '638': '常州', '673': '滁州', '572': '承德', '758': '郴州', '781': '潮州', '579': '长治', '590': '赤峰', '679': '池州', '848': '昌都', '894': '昌吉', '10195': '昌江', '10080': '昌图', '10137': '长葛', '676': '巢湖', '611': '朝阳', '2159': '城阳', '10190': '澄迈', '905': '崇左', '836': '楚雄', '10086': '慈溪', '600': '大连', '779': '东莞', '627': '大庆', '604': '丹东', '805': '德阳', '715': '德州', '706': '东营', '577': '大同', '841': '大理', '815': '达州', '634': '大兴安岭', '10114': '丹阳', '10183': '儋州', '842': '德宏', '10151': '德清', '845': '迪庆', '10188': '定安', '874': '定西', '10187': '东方', '10056': '东阳', '931': '东港', '492': '丹麦', '496': '德国', '592': '鄂尔多斯', '741': '鄂州', '748': '恩施', '10065': '峨眉', '516': '俄罗斯联邦', '768': '佛山', '681': '福州', '602': '抚顺', '674': '阜阳', '700': '抚州', '10158': '方家山', '790': '防城港', '10099': '肥城', '10069': '凤阳', '10020': '福安', '607': '阜新', '495': '法国', '494': '芬兰', '763': '广州', '697': '赣州', '549': '广西', '822': '贵阳', '557': '甘肃', '787': '桂林', '807': '广元', '814': '广安', '877': '甘南', '820': '甘孜', '10126': '高邮', '10057': '公安', '10122': '公主岭', '10142': '固安', '889': '固原', '10181': '广德', '792': '贵港', '883': '果洛', '622': '哈尔滨', '799': '海口', '568': '邯郸', '653': '杭州', '664': '合肥', '752': '衡阳', '575': '衡水', '587': '呼和浩特', '657': '湖州', '643': '淮安', '718': '菏泽', '669': '淮北', '860': '汉中', '593': '呼伦贝尔', '612': '葫芦岛', '773': '惠州', '10198': '珲春', '724': '鹤壁', '667': '淮南', '745': '黄冈', '760': '怀化', '737': '黄石', '672': '黄山', '776': '河源', '632': '黑河', '893': '哈密', '880': '海北', '10070': '海城', '879': '海东', '882': '海南州', '10133': '海宁', '885': '海西', '2556': '海阳', '10082': '和顺', '900': '和田', '796': '河池', '795': '贺州', '625': '鹤岗', '10138': '鹤山', '837': '红河', '2157': '黄岛', '881': '黄南', '506': '韩国', '509': '荷兰', '702': '济南', '614': '吉林', '709': '济宁', '656': '嘉兴', '769': '江门', '2512': '江阴', '659': '金华', '744': '荆州', '694': '九江', '726': '焦作', '782': '揭阳', '629': '佳木斯', '605': '锦州', '582': '晋中', '580': '晋城', '698': '吉安', '692': '景德镇', '10044': '济源', '404001': '吉首市', '624': '鸡西', '2161': '即墨', '10067': '嘉善', '865': '嘉峪关', '10201': '简阳', '2163': '胶南', '2160': '胶州', '866': '金昌', '10175': '金湖', '10148': '晋江', '742': '荆门', '649': '靖江', '872': '酒泉', '10028': '句容', '488': '加拿大', '914': '加纳', '491': '捷克', '930': '柬埔寨', '720': '开封', '831': '昆明', '640': '昆山', '10118': '开平', '899': '喀什', '10144': '开原', '891': '克拉玛依', '898': '克孜勒苏', '10164': '奎屯市', '507': '科威特', '864': '兰州', '574': '廊坊', '642': '连云港', '716': '聊城', '714': '临沂', '786': '柳州', '721': '洛阳', '729': '漯河', '847': '拉萨', '823': '六盘水', '713': '莱芜', '810': '乐山', '608': '辽阳', '585': '临汾', '689': '龙岩', '663': '丽水', '677': '六安', '586': '吕梁', '616': '辽源', '761': '娄底', '804': '泸州', '904': '来宾', '2164': '莱西', '10196': '乐东', '10089': '乐清', '843': '丽江', '10150': '溧阳', '821': '凉山', '853': '林芝', '846': '临沧', '10191': '临高', '876': '临夏', '10197': '陵水', '10120': '龙川', '10180': '龙泉', '875': '陇南', '668': '马鞍山', '806': '绵阳', '631': '牡丹江', '774': '梅州', '771': '茂名', '10157': '满洲里', '812': '眉山', '508': '马来西亚', '528': '美国', '635': '南京', '691': '南昌', '811': '南充', '785': '南宁', '731': '南阳', '641': '南通', '654': '宁波', '559': '宁夏', '688': '南平', '690': '宁德', '809': '内江', '851': '那曲', '2054': '南沙区', '10134': '宁海', '844': '怒江', '519': '南非', '915': '尼日利亚', '511': '挪威', '722': '平顶山', '683': '莆田', '727': '濮阳', '609': '盘锦', '3404': '普宁', '693': '萍乡', '803': '攀枝花', '2162': '平度', '10052': '平湖', '871': '平凉', '10163': '普洱', '515': '葡萄牙', '703': '青岛', '567': '秦皇岛', '558': '青海', '778': '清远', '685': '泉州', '623': '齐齐哈尔', '832': '曲靖', '660': '衢州', '827': '黔西南', '630': '七台河', '10136': '启东', '10169': '潜江', '829': '黔东南', '830': '黔南', '791': '钦州', '873': '庆阳', '10153': '琼海', '10192': '琼中', '686': '泉港区', '512': '其他国家', '712': '日照', '850': '日喀则', '912': '荣成', '10051': '如皋', '10060': '乳山', '10128': '瑞安', '505': '日本', '521': '瑞典', '522': '瑞士', '538': '上海', '765': '深圳', '599': '沈阳', '565': '石家庄', '800': '三亚', '767': '汕头', '732': '商丘', '658': '绍兴', '615': '四平', '639': '苏州', '648': '宿迁', '675': '宿州', '747': '随州', '701': '上饶', '753': '邵阳', '738': '十堰', '730': '三门峡', '863': '商洛', '619': '松原', '808': '遂宁', '764': '韶关', '684': '三明', '633': '绥化', '775': '汕尾', '10170': '三河', '10145': '三门', '849': '山南', '10130': '上虞', '10160': '尚志', '10179': '神农架', '10061': '石河子', '887': '石嘴山', '10159': '双城', '626': '双鸭山', '581': '朔州', '839': '思茅', '10182': '宿松', '10161': '绥芬河', '919': '塞内加尔', '490': '塞浦路斯', '517': '沙特阿拉伯', '531': '天津', '662': '台州', '576': '太原', '710': '泰安', '647': '泰州', '566': '唐山', '610': '铁岭', '855': '铜川', '591': '通辽', '617': '通化', '670': '铜陵', '868': '天水', '826': '铜仁', '902': '塔城', '10112': '台山', '911': '太仓市', '10149': '泰兴', '10140': '天门', '10155': '通州', '10127': '桐乡', '10177': '图木舒克', '892': '吐鲁番', '10189': '屯昌', '563': '台湾省', '523': '泰国', '916': '坦桑尼亚', '524': '土耳其', '736': '武汉', '711': '威海', '708': '潍坊', '655': '温州', '890': '乌鲁木齐', '636': '无锡', '665': '芜湖', '858': '渭南', '10186': '万宁', '10129': '温岭', '10185': '文昌', '838': '文山', '589': '乌海', '596': '乌兰察布', '10031': '乌审旗', '10166': '乌苏', '888': '吴忠', '788': '梧州', '10178': '五家渠', '10184': '五指山', '869': '武威', '10139': '武穴', '917': '乌干达', '525': '乌克兰', '854': '西安', '555': '西藏', '682': '厦门', '857': '咸阳', '740': '襄阳', '725': '新乡', '637': '徐州', '728': '许昌', '733': '信阳', '569': '邢台', '560': '新疆', '695': '新余', '743': '孝感', '680': '宣城', '746': '咸宁', '878': '西宁', '10104': '西昌', '10059': '西平', '840': '西双版纳', '595': '锡林郭勒盟', '10168': '仙桃', '10167': '香河', '751': '湘潭', '762': '湘西', '10154': '象山', '584': '忻州', '594': '兴安盟', '10023': '兴城', '10058': '兴平', '10152': '盱眙', '933': '西咸新区', '561': '香港', '520': '西班牙', '497': '希腊', '518': '新加坡', '510': '新西兰', '498': '匈牙利', '707': '烟台', '644': '盐城', '645': '扬州', '739': '宜昌', '3376': '义乌', '606': '营口', '861': '榆林', '793': '玉林', '583': '运城', '2513': '宜兴', '754': '岳阳', '813': '宜宾', '859': '延安', '621': '延边', '833': '玉溪', '777': '阳江', '757': '益阳', '699': '宜春', '886': '银川', '578': '阳泉', '759': '永州', '783': '云浮', '696': '鹰潭', '816': '雅安', '10116': '兖州', '10050': '燕郊开发区', '10124': '扬中', '10470': '杨凌', '907': '洋浦市/洋浦经济开发区', '628': '伊春', '901': '伊犁', '10171': '宜城', '910': '永济市', '10091': '永嘉', '10055': '永康', '10085': '余姚', '909': '玉环县', '884': '玉树', '503': '以色列', '504': '意大利', '500': '印度', '501': '印度尼西亚', '527': '英国', '529': '越南', '719': '郑州', '705': '枣庄', '770': '湛江', '652': '张家港', '571': '张家口', '687': '漳州', '772': '肇庆', '646': '镇江', '780': '中山', '766': '珠海', '750': '株洲', '704': '淄博', '824': '遵义', '735': '驻马店', '734': '周口', '802': '自贡', '661': '舟山', '870': '张掖', '756': '张家界', '835': '昭通', '10510': '肇东市', '906': '中卫', '10131': '诸暨', '818': '资阳', '10143': '遵化'}
citys_code ={'鞍山': '601', '安顺': '825', '安阳': '723', '安康': '862', '安庆': '671', '阿坝': '819', '阿克苏': '897', '阿拉尔': '10176', '阿拉善盟': '598', '阿勒泰': '903', '阿里': '852', '安达': '10081', '澳门': '562', '阿尔及利亚': '918', '阿根廷': '481', '阿联酋': '526', '埃及': '493', '爱尔兰': '502', '安哥拉': '913', '奥地利': '483', '澳大利亚': '482', '北京': '530', '包头': '588', '宝鸡': '856', '保定': '570', '滨州': '717', '亳州': '678', '蚌埠': '666', '北海': '789', '白银': '867', '白城': '620', '白山': '618', '毕节': '828', '巴中': '817', '巴彦淖尔': '597', '巴音郭楞': '896', '白沙': '10194', '百色': '794', '保山': '834', '保亭': '10193', '本溪': '603', '博尔塔拉': '895', '北屯区': '932', '巴基斯坦': '513', '巴西': '486', '白俄罗斯': '484', '保加利亚': '487', '比利时': '485', '冰岛': '499', '波兰': '514', '重庆': '551', '成都': '801', '长春': '613', '长株潭': '749', '长沙': '749', '沧州': '573', '常熟': '650', '常德': '755', '常州': '638', '滁州': '673', '承德': '572', '郴州': '758', '潮州': '781', '长治': '579', '赤峰': '590', '池州': '679', '昌都': '848', '昌吉': '894', '昌江': '10195', '昌图': '10080', '长葛': '10137', '巢湖': '676', '朝阳': '611', '城阳': '2159', '澄迈': '10190', '崇左': '905', '楚雄': '836', '慈溪': '10086', '大连': '600', '东莞': '779', '大庆': '627', '丹东': '604', '德阳': '805', '德州': '715', '东营': '706', '大同': '577', '大理': '841', '达州': '815', '大兴安岭': '634', '丹阳': '10114', '儋州': '10183', '德宏': '842', '德清': '10151', '迪庆': '845', '定安': '10188', '定西': '874', '东方': '10187', '东阳': '10056', '东港': '931', '丹麦': '492', '德国': '496', '鄂尔多斯': '592', '鄂州': '741', '恩施': '748', '峨眉': '10065', '俄罗斯联邦': '516', '佛山': '768', '福州': '681', '抚顺': '602', '阜阳': '674', '抚州': '700', '方家山': '10158', '防城港': '790', '肥城': '10099', '凤阳': '10069', '福安': '10020', '阜新': '607', '法国': '495', '芬兰': '494', '广州': '763', '赣州': '697', '广西': '549', '贵阳': '822', '甘肃': '557', '桂林': '787', '广元': '807', '广安': '814', '甘南': '877', '甘孜': '820', '高邮': '10126', '公安': '10057', '公主岭': '10122', '固安': '10142', '固原': '889', '广德': '10181', '贵港': '792', '果洛': '883', '哈尔滨': '622', '海口': '799', '邯郸': '568', '杭州': '653', '合肥': '664', '衡阳': '752', '衡水': '575', '呼和浩特': '587', '湖州': '657', '淮安': '643', '菏泽': '718', '淮北': '669', '汉中': '860', '呼伦贝尔': '593', '葫芦岛': '612', '惠州': '773', '珲春': '10198', '鹤壁': '724', '淮南': '667', '黄冈': '745', '怀化': '760', '黄石': '737', '黄山': '672', '河源': '776', '黑河': '632', '哈密': '893', '海北': '880', '海城': '10070', '海东': '879', '海南州': '882', '海宁': '10133', '海西': '885', '海阳': '2556', '和顺': '10082', '和田': '900', '河池': '796', '贺州': '795', '鹤岗': '625', '鹤山': '10138', '红河': '837', '黄岛': '2157', '黄南': '881', '韩国': '506', '荷兰': '509', '济南': '702', '吉林': '614', '济宁': '709', '嘉兴': '656', '江门': '769', '江阴': '2512', '金华': '659', '荆州': '744', '九江': '694', '焦作': '726', '揭阳': '782', '佳木斯': '629', '锦州': '605', '晋中': '582', '晋城': '580', '吉安': '698', '景德镇': '692', '济源': '10044', '吉首市': '404001', '鸡西': '624', '即墨': '2161', '嘉善': '10067', '嘉峪关': '865', '简阳': '10201', '胶南': '2163', '胶州': '2160', '金昌': '866', '金湖': '10175', '晋江': '10148', '荆门': '742', '靖江': '649', '酒泉': '872', '句容': '10028', '加拿大': '488', '加纳': '914', '捷克': '491', '柬埔寨': '930', '开封': '720', '昆明': '831', '昆山': '640', '开平': '10118', '喀什': '899', '开原': '10144', '克拉玛依': '891', '克孜勒苏': '898', '奎屯市': '10164', '科威特': '507', '兰州': '864', '廊坊': '574', '连云港': '642', '聊城': '716', '临沂': '714', '柳州': '786', '洛阳': '721', '漯河': '729', '拉萨': '847', '六盘水': '823', '莱芜': '713', '乐山': '810', '辽阳': '608', '临汾': '585', '龙岩': '689', '丽水': '663', '六安': '677', '吕梁': '586', '辽源': '616', '娄底': '761', '泸州': '804', '来宾': '904', '莱西': '2164', '乐东': '10196', '乐清': '10089', '丽江': '843', '溧阳': '10150', '凉山': '821', '林芝': '853', '临沧': '846', '临高': '10191', '临夏': '876', '陵水': '10197', '龙川': '10120', '龙泉': '10180', '陇南': '875', '马鞍山': '668', '绵阳': '806', '牡丹江': '631', '梅州': '774', '茂名': '771', '满洲里': '10157', '眉山': '812', '马来西亚': '508', '美国': '528', '南京': '635', '南昌': '691', '南充': '811', '南宁': '785', '南阳': '731', '南通': '641', '宁波': '654', '宁夏': '559', '南平': '688', '宁德': '690', '内江': '809', '那曲': '851', '南沙区': '2054', '宁海': '10134', '怒江': '844', '南非': '519', '尼日利亚': '915', '挪威': '511', '平顶山': '722', '莆田': '683', '濮阳': '727', '盘锦': '609', '普宁': '3404', '萍乡': '693', '攀枝花': '803', '平度': '2162', '平湖': '10052', '平凉': '871', '普洱': '10163', '葡萄牙': '515', '青岛': '703', '秦皇岛': '567', '青海': '558', '清远': '778', '泉州': '685', '齐齐哈尔': '623', '曲靖': '832', '衢州': '660', '黔西南': '827', '七台河': '630', '启东': '10136', '潜江': '10169', '黔东南': '829', '黔南': '830', '钦州': '791', '庆阳': '873', '琼海': '10153', '琼中': '10192', '泉港区': '686', '其他国家': '512', '日照': '712', '日喀则': '850', '荣成': '912', '如皋': '10051', '乳山': '10060', '瑞安': '10128', '日本': '505', '瑞典': '521', '瑞士': '522', '上海': '538', '深圳': '765', '沈阳': '599', '石家庄': '565', '三亚': '800', '汕头': '767', '商丘': '732', '绍兴': '658', '四平': '615', '苏州': '639', '宿迁': '648', '宿州': '675', '随州': '747', '上饶': '701', '邵阳': '753', '十堰': '738', '三门峡': '730', '商洛': '863', '松原': '619', '遂宁': '808', '韶关': '764', '三明': '684', '绥化': '633', '汕尾': '775', '三河': '10170', '三门': '10145', '山南': '849', '上虞': '10130', '尚志': '10160', '神农架': '10179', '石河子': '10061', '石嘴山': '887', '双城': '10159', '双鸭山': '626', '朔州': '581', '思茅': '839', '宿松': '10182', '绥芬河': '10161', '塞内加尔': '919', '塞浦路斯': '490', '沙特阿拉伯': '517', '天津': '531', '台州': '662', '太原': '576', '泰安': '710', '泰州': '647', '唐山': '566', '铁岭': '610', '铜川': '855', '通辽': '591', '通化': '617', '铜陵': '670', '天水': '868', '铜仁': '826', '塔城': '902', '台山': '10112', '太仓市': '911', '泰兴': '10149', '天门': '10140', '通州': '10155', '桐乡': '10127', '图木舒克': '10177', '吐鲁番': '892', '屯昌': '10189', '台湾省': '563', '泰国': '523', '坦桑尼亚': '916', '土耳其': '524', '武汉': '736', '威海': '711', '潍坊': '708', '温州': '655', '乌鲁木齐': '890', '无锡': '636', '芜湖': '665', '渭南': '858', '万宁': '10186', '温岭': '10129', '文昌': '10185', '文山': '838', '乌海': '589', '乌兰察布': '596', '乌审旗': '10031', '乌苏': '10166', '吴忠': '888', '梧州': '788', '五家渠': '10178', '五指山': '10184', '武威': '869', '武穴': '10139', '乌干达': '917', '乌克兰': '525', '西安': '854', '西藏': '555', '厦门': '682', '咸阳': '857', '襄阳': '740', '新乡': '725', '徐州': '637', '许昌': '728', '信阳': '733', '邢台': '569', '新疆': '560', '新余': '695', '孝感': '743', '宣城': '680', '咸宁': '746', '西宁': '878', '西昌': '10104', '西平': '10059', '西双版纳': '840', '锡林郭勒盟': '595', '仙桃': '10168', '香河': '10167', '湘潭': '751', '湘西': '762', '象山': '10154', '忻州': '584', '兴安盟': '594', '兴城': '10023', '兴平': '10058', '盱眙': '10152', '西咸新区': '933', '香港': '561', '西班牙': '520', '希腊': '497', '新加坡': '518', '新西兰': '510', '匈牙利': '498', '烟台': '707', '盐城': '644', '扬州': '645', '宜昌': '739', '义乌': '3376', '营口': '606', '榆林': '861', '玉林': '793', '运城': '583', '宜兴': '2513', '岳阳': '754', '宜宾': '813', '延安': '859', '延边': '621', '玉溪': '833', '阳江': '777', '益阳': '757', '宜春': '699', '银川': '886', '阳泉': '578', '永州': '759', '云浮': '783', '鹰潭': '696', '雅安': '816', '兖州': '10116', '燕郊开发区': '10050', '扬中': '10124', '杨凌': '10470', '洋浦市/洋浦经济开发区': '907', '伊春': '628', '伊犁': '901', '宜城': '10171', '永济市': '910', '永嘉': '10091', '永康': '10055', '余姚': '10085', '玉环县': '909', '玉树': '884', '以色列': '503', '意大利': '504', '印度': '500', '印度尼西亚': '501', '英国': '527', '越南': '529', '郑州': '719', '枣庄': '705', '湛江': '770', '张家港': '652', '张家口': '571', '漳州': '687', '肇庆': '772', '镇江': '646', '中山': '780', '珠海': '766', '株洲': '750', '淄博': '704', '遵义': '824', '驻马店': '735', '周口': '734', '自贡': '802', '舟山': '661', '张掖': '870', '张家界': '756', '昭通': '835', '肇东市': '10510', '中卫': '906', '诸暨': '10131', '资阳': '818', '遵化': '10143'}

city_codes = {}
code_city = {}
for i in citys:#遍历城市
    try:
        code_city[citys_code[i]] = i #转换成为代码-城市
    except KeyError as e:
        pass

# print(code_city)
# print(len(code_city))
#
# print(code_city.keys())
# print(len(code_city.keys()))

citys = ['武汉', '济南', '西安', '南京', '深圳',
         '成都', '广州', '北京', '大连', '上海',
         '长沙', '杭州', '天津', '福州', '合肥',
         '厦门', '苏州', '青岛', '沈阳', '石家庄',
         '重庆', '长春']
codes = []
for city in citys:
    codes.append(citys_code[city])

print(codes)

